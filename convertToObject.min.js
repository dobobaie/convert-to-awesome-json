var convertToObject=function(e){if(null==e||"string"!=typeof e)return null;var t=function(e,a){var u=!0===a?[]:{},r=null,o={key:null,value:null,curlyBracket:{in:!1,priority:0},quote:{hasLast:!1,type:"",in:!1,priority:0},separatorPast:!1,toNextPoint:!1,hadQuote:!1};if(null==e||"string"!=typeof e)return e;for(var n=0;void 0!=e[n];n++){switch(e[n]){case"[":case"{":if(1==o.quote.in){r+=e[n];break}if(1==o.toNextPoint){r+=e[n],o.curlyBracket.priority+=1;break}r="",o.toNextPoint=!0;break;case"}":case"]":if(1==o.quote.in){r+=e[n];break}if(0==o.toNextPoint)break;if(0!=o.curlyBracket.priority){r+=e[n],o.curlyBracket.priority-=1;break}o.toNextPoint=!1,o.value=new t(r,"]"==e[n]),r=null;case":":case"=":if(1==o.toNextPoint||1==o.quote.in){r+=e[n];break}o.hadQuote=!1,o.separatorPast=!0,o.key=null!=r?r:o.key,r=null;break;case"\n":case"\r":case",":case";":if(1==o.toNextPoint||1==o.quote.in){r+=e[n];break}i=null==o.value?r:o.value;if(!1===o.hadQuote&&null!=i)try{i=r=JSON.parse(i)}catch(e){}!0===a&&null!=i?u.push(i):!0!==a&&null!=i&&(null!=o.key?u[o.key]=i:u=i),r=null,o.hadQuote=!1,o.key=null,o.value=null,o.separatorPast=!1;break;case"'":case'"':case"`":if(1==o.toNextPoint||1==o.quote.in&&o.quote.type!=e[n]){r+=e[n];break}if(o.hadQuote=!0,0==o.quote.in){r="",o.quote.in=!0,o.quote.type=e[n],o.quote.priority+=1;break}o.quote.priority-=1,0==o.quote.priority&&(o.quote.hasLast=!0,o.quote.in=!1);continue;case" ":case"\t":if(1==o.toNextPoint||1==o.quote.in){r+=e[n];break}break;default:1==o.quote.hasLast&&(r+=o.quote.type,o.quote.priority+=1,o.quote.in=!0),r=null==r?e[n]:r+e[n]}o.quote.hasLast=!1}var i=null==o.value?r:o.value;if(!1===o.hadQuote&&null!=i)try{i=r=JSON.parse(i)}catch(e){}return!0===a&&null!=i?u.push(i):!0!==a&&null!=i&&(null!=o.key?u[o.key]=i:u=i),u};return new t(e)};try{module.exports=convertToObject}catch(e){}